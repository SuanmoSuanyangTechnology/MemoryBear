# LoCoMo 基准测试配置文件示例
# 复制此文件为 .env.evaluation 并根据需要修改

# ============================================================================
# Neo4j 配置
# ============================================================================
# 测试数据的 Group ID（建议使用独立的 group 避免污染生产数据）
EVAL_GROUP_ID=locomo_benchmark

# ============================================================================
# 模型配置（必需）
# ============================================================================
# ⚠️ 必填：Memory Config ID
# 从数据库 data_config 表中选择一个有效的 config_id
# 该配置包含 LLM、Embedding 模型和所有管道参数
# 
# 如何获取 config_id：
# 1. 查询数据库：SELECT config_id, config_name FROM data_config;
# 2. 或通过系统管理界面查看
# 3. 确保该配置包含有效的 llm_id 和 embedding_id
EVAL_CONFIG_ID=your_config_id_here

# 注意：以下参数已废弃，请使用 EVAL_CONFIG_ID
# 所有配置（LLM、Embedding、Pipeline 参数）都从数据库加载
# EVAL_LLM_ID=（已废弃，使用 EVAL_CONFIG_ID）
# EVAL_EMBEDDING_ID=（已废弃，使用 EVAL_CONFIG_ID）

# ============================================================================
# 测试参数
# ============================================================================
# 默认测试样本数量
# 建议值：20（快速测试）、100（中等测试）、1986（完整测试）
LOCOMO_SAMPLE_SIZE=20

# Chunker 策略
EVAL_CHUNKER_STRATEGY=RecursiveChunker

# ============================================================================
# 检索参数
# ============================================================================
# 检索结果数量限制
EVAL_SEARCH_LIMIT=20

# 上下文最大字符数
EVAL_MAX_CONTEXT_CHARS=8000

# BM25 权重（用于混合检索，0.0-1.0）
EVAL_RERANK_ALPHA=0.6

# ============================================================================
# 性能优化参数
# ============================================================================
# 连接重置间隔（每 N 个问题重置一次 Neo4j 连接）
EVAL_RESET_INTERVAL=5

# 性能阈值（F1 分数低于此值触发重置）
EVAL_PERFORMANCE_THRESHOLD=0.6

# ============================================================================
# 数据导入参数
# ============================================================================
# 导入的对话数量（1 = 第一个对话，包含所有问题的上下文）
EVAL_MAX_DIALOGUES=1

# 是否在导入前清空现有数据（true/false）
EVAL_RESET_ON_INGEST=true

# ============================================================================
# 输出配置
# ============================================================================
# 结果保存目录（相对于 evaluation 目录）
EVAL_OUTPUT_DIR=locomo/results

# 是否保存详细日志（true/false）
EVAL_SAVE_DETAILED_LOGS=true

# ============================================================================
# 快速配置指南
# ============================================================================
# 1. 复制此文件为 .env.evaluation
# 2. 修改 EVAL_LLM_ID 和 EVAL_EMBEDDING_ID 为你的模型 ID
# 3. 可选：修改 EVAL_GROUP_ID 为独立的测试 group
# 4. 运行测试：python locomo_ingest_and_test.py
#
# 获取模型 ID 的方法：
# - 从数据库 models 表查询
# - 或使用系统管理界面查看
